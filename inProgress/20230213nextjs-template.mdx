import BlogLayout from '../../components/BlogLayout';
import Meta from '../../components/Meta';

export const meta = {
  title: 'ã€Next.js+MDXã€‘ã©ã†ã›ãƒ–ãƒ­ã‚°ã‚„ã‚‹ã‚“ãªã‚‰åœŸå°ã‹ã‚‰ä½œã‚ã†ãœï¼ã€â‘ é››å½¢ä½œæˆç·¨ã€‘',
  category: 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°',
  categoryEn: 'programing',
  tags: ['Next.js', 'MDX'],
  date: '2023-02-13',
  update: '',
  outline: 'ãƒ–ãƒ­ã‚°ã‚„ã£ã¦ã¿ãŸã„äººå¿…è¦‹ï¼ã‚ãˆã¦ãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã§ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ãƒ–ãƒ­ã‚°æ§‹ç¯‰â‘ é››å½¢ä½œæˆç·¨',
  link: '/posts/20230213nextjs-template',
  headImage: '/20230103-1/title.png',
};

## Next.js ã¨ã¯

React.js ãƒ™ãƒ¼ã‚¹ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
SSGï¼ˆStatic Site Generator)ã¨å‘¼ã°ã‚Œã‚‹ã€ãƒšãƒ¼ã‚¸ã‚’äº‹å‰ãƒ“ãƒ«ãƒ‰ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚‹ã®ã§ã€ç°¡å˜ã«ãƒšãƒ¼ã‚¸è¡¨ç¤ºãŒæ—©ã„ï¼†ç¶­æŒè²»ãŒå®‰ã„ãƒ–ãƒ­ã‚°ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚

## â‘  ç’°å¢ƒæ§‹ç¯‰

Next.js ã®ã‚¢ãƒ—ãƒªä½œæˆã‚„é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ç«‹ã¡ä¸Šã’ã«å¿…è¦ãª Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’ã”å‚ç…§ãã ã•ã„ã€‚

## â‘¡ Next.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1.  ```bash
    $ sudo modprobe snd-aloop
    #érootãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®ã®ã‚¢ã‚¯ã‚»ã‚¹è¨­å®š
    $ sudo adduser $USER audio
    ```

2.  ãƒ‡ãƒã‚¤ã‚¹ãŒè¿½åŠ ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª

    ```bash
    $ sudo apt install alsa-utils
    # PlayBack(å‡ºåŠ›)
    $ aplay -l
    **** List of PLAYBACK Hardware Devices ****
    card 0: Loopback [Loopback], device 0: Loopback PCM [Loopback PCM]
      Subdevices: 6/8
      Subdevice #0: subdevice #0
      Subdevice #1: subdevice #1
      Subdevice #2: subdevice #2
      Subdevice #3: subdevice #3
      Subdevice #4: subdevice #4
      Subdevice #5: subdevice #5
      Subdevice #6: subdevice #6
      Subdevice #7: subdevice #7
    card 0: Loopback [Loopback], device 1: Loopback PCM [Loopback PCM]
      Subdevices: 8/8
      Subdevice #0: subdevice #0
      Subdevice #1: subdevice #1
      Subdevice #2: subdevice #2
      Subdevice #3: subdevice #3
      Subdevice #4: subdevice #4
      Subdevice #5: subdevice #5
      Subdevice #6: subdevice #6
      Subdevice #7: subdevice #7

    # Record(å…¥åŠ›)
    $ arecord -l
    **** List of CAPTURE Hardware Devices ****
    card 0: Loopback [Loopback], device 0: Loopback PCM [Loopback PCM]
      Subdevices: 8/8
      Subdevice #0: subdevice #0
      Subdevice #1: subdevice #1
      Subdevice #2: subdevice #2
      Subdevice #3: subdevice #3
      Subdevice #4: subdevice #4
      Subdevice #5: subdevice #5
      Subdevice #6: subdevice #6
      Subdevice #7: subdevice #7
    card 0: Loopback [Loopback], device 1: Loopback PCM [Loopback PCM]
      Subdevices: 8/8
      Subdevice #0: subdevice #0
      Subdevice #1: subdevice #1
      Subdevice #2: subdevice #2
      Subdevice #3: subdevice #3
      Subdevice #4: subdevice #4
      Subdevice #5: subdevice #5
      Subdevice #6: subdevice #6
      Subdevice #7: subdevice #7
    ```

3.  ä½¿ã£ã¦ã¿ã‚‹

    ```bash
    # é©å½“ãªWAVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¦
    $ aplay -D hw:Loopback,0,0 sample.wav
    ```

- å‰Šé™¤ã—ãŸããªã£ãŸã‚‰

  ```bash
  $ sudo modprobe -r snd-aloop
  ```

- Tip: èµ·å‹•æ™‚ã«è‡ªå‹•ãƒ­ãƒ¼ãƒ‰  
   /etc/modules ã« vi ãªã©ã§è¿½è¨˜
  ```sh
  # /etc/modules: kernel modules to load at boot time.
  #
  # This file contains the names of kernel modules that should be loaded
  # at boot time, one per line. Lines beginning with "#" are ignored.
  snd-aloop <-ã“ã‚Œè¿½è¨˜
  ```

## PulseAudio ç·¨

è¤‡æ•°ã‚¢ãƒ—ãƒªã‹ã‚‰éŸ³å£°å…¥åŠ›ã‚’è¡Œã†å ´åˆã‚„ã€éŸ³å£°ã®å…¥å‡ºåŠ›ã‚’å°‘ã—è¤‡é›‘ã«ç®¡ç†ã™ã‚‹å ´åˆã¯ PulseAudio ãŒè‰¯ã„ã€‚

1. pactl(PulseAudio ã®ç®¡ç†ã‚³ãƒãƒ³ãƒ‰)ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
   ```bash
   $ sudo apt install pulseaudio-utils
   ```
2. ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ã‚’ä½œæˆ

   ```bash
   # VirtualSink0ã®éƒ¨åˆ†ã¯å¥½ããªæ–‡å­—åˆ—ã§å¯
   $ pacmd load-module module-null-sink sink_name=VirtualSink0 sink_properties=device.description=VirtualSink0
   # ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã—ãŸããªã£ãŸã‚‰
   $ pacmd load-module module-loopback source=VirtualSink0.monitor source_dont_move=true
   ```

3. ç¢ºèª
   ```bash
   $ pactl list short sources
   1       VirtualSink0.monitor    module-null-sink.c      s16le 2ch 44100Hz       SUSPENDED
   ```

- å‰Šé™¤ã—ãŸããªã£ãŸã‚‰

  ```bash
  $ pacmd unload-module module-loopback
  $ pacmd unload-module module-null-sink
  ```

- Tip: èµ·å‹•æ™‚ã«è‡ªå‹•ãƒ­ãƒ¼ãƒ‰  
  /etc/pulse/default.pa ã«è¿½è¨˜

  ```sh
  pacmd load-module module-null-sink sink_name=VirtualSink0 sink_properties=device.description=VirtualSink0
  ```

- ãŠã‹ã—ããªã£ãŸã‚‰

  ```bash
  #PulseAudio
  $ pulseaudio --kill
  $ pulseaudio --start
  ```

## ã¾ã¨ã‚

ä»Šå›ã¯ã€Linux ã§éŸ³å£°ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ï¼’ã¤ç´¹ä»‹ã—ã¾ã—ãŸã€‚  
ã©ã£ã¡ã‹æ‚©ã‚“ã ã‚‰ PulseAudio ã®ã»ã†ãŒå¤šåˆ†ç„¡é›£ã§ã™ ğŸµ

<Meta title={meta.title} description={meta.outline} url={meta.link}></Meta>
export default ({children}) => <BlogLayout meta={meta}>{children}</BlogLayout>
